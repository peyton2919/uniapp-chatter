{"version":3,"sources":["uni-app:///main.js","webpack:///E:/workspace/uniapp/uniapp-chatter/pages/dynamic/dynamic.vue?3091","webpack:///E:/workspace/uniapp/uniapp-chatter/pages/dynamic/dynamic.vue?844b","webpack:///E:/workspace/uniapp/uniapp-chatter/pages/dynamic/dynamic.vue?6eb1","webpack:///E:/workspace/uniapp/uniapp-chatter/pages/dynamic/dynamic.vue?a8ad","uni-app:///pages/dynamic/dynamic.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","username","userpic","createtime","isfollow","title","titlepic","support","type","supportcount","unsupportcount","commentcount","sharenum","components","uniNavBar","commonList","loadMore","hotCate","topicList","data","scrollH","tabIndex","tabBars","name","list","loadmore","cover","desc","today_count","dynamic_count","onLoad","success","methods","openAddInput","uni","url","changeTab","onChangeTab","doSupport","item","loadmoreEvent","setTimeout"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,gBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;;;AAGtD;AAC2L;AAC3L,gBAAgB,oMAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA+sB,CAAgB,ouBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0EnuB,YACA;EACAC;EACAC;EACAC;EACAC;EACAC;EACAC;EACAC;IACAC;IACAC;IACAC;EACA;EACAC;EACAC;AACA,GACA;EACAX;EACAC;EACAC;EACAC;EACAC;EACAC;EACAC;IACAC;IACAC;IACAC;EACA;EACAC;EACAC;AACA,GACA;EACAX;EACAC;EACAC;EACAC;EACAC;EACAC;EACAC;IACAC;IACAC;IACAC;EACA;EACAC;EACAC;AACA,EACA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAQA;EACAC;IACAC;IAAAC;IAAAC;IAAAC;IAAAC;EACA;EACAC;IACA;MACA;MACAC;MACA;MACAC;MACAC;QAAAC;MAAA;QAAAA;MAAA;MACA;MACAC;MACA;MACAC;MACAR;QAAAM;MAAA;QAAAA;MAAA;QAAAA;MAAA,GACA;QAAAA;MAAA;QAAAA;MAAA;QAAAA;MAAA;MACAL;QACAQ;QACArB;QACAsB;QACAC;QACAC;MACA;QACAH;QACArB;QACAsB;QACAC;QACAC;MACA;QACAH;QACArB;QACAsB;QACAC;QACAC;MACA;QACAH;QACArB;QACAsB;QACAC;QACAC;MACA;QACAH;QACArB;QACAsB;QACAC;QACAC;MACA;IACA;EACA;EACAC;IAAA;IACA;IACA;MACAC;QACA;QACA;MACA;IACA;IACA;IACA;EACA;EACAC;IACA;IACAC;MACAC;QACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;QACAC;MACA;QAAA;QACA;QACAA;QACAA;MACA;QAAA;QACA;QACAA;QACAA;MACA;MACAA;MACAL;QACA7B;MACA;IACA;IACA;IACAmC;MAAA;MACA;MACA;QAAA;MAAA;MACA;MACA;MACAC;QACA;QACA;QACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B","file":"pages/dynamic/dynamic.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/dynamic/dynamic.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./dynamic.vue?vue&type=template&id=c438b0f4&\"\nvar renderjs\nimport script from \"./dynamic.vue?vue&type=script&lang=js&\"\nexport * from \"./dynamic.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\java\\\\HBuilderX.3.8.12.20230817\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/dynamic/dynamic.vue\"\nexport default component.exports","export * from \"-!D:\\\\java\\\\HBuilderX.3.8.12.20230817\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\java\\\\HBuilderX.3.8.12.20230817\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\java\\\\HBuilderX.3.8.12.20230817\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\java\\\\HBuilderX.3.8.12.20230817\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\java\\\\HBuilderX.3.8.12.20230817\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\java\\\\HBuilderX.3.8.12.20230817\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./dynamic.vue?vue&type=template&id=c438b0f4&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\java\\\\HBuilderX.3.8.12.20230817\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\java\\\\HBuilderX.3.8.12.20230817\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\java\\\\HBuilderX.3.8.12.20230817\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\java\\\\HBuilderX.3.8.12.20230817\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\java\\\\HBuilderX.3.8.12.20230817\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./dynamic.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\java\\\\HBuilderX.3.8.12.20230817\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\java\\\\HBuilderX.3.8.12.20230817\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\java\\\\HBuilderX.3.8.12.20230817\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\java\\\\HBuilderX.3.8.12.20230817\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\java\\\\HBuilderX.3.8.12.20230817\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./dynamic.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!-- 动态页 包含 nav-bar,swiper,scroll-view -->\n\t<view>\n\t\t<!-- 导航栏 -->\r\n\t\t<uni-nav-bar :border=\"false\" :fixed=\"true\" :statusBar=\"true\" \r\n\t\t\t\t@clickRight=\"openAddInput\">\r\n\t\t\t<view class=\"flex align-center justify-center font-weight-bold w-100\">\r\n\t\t\t\t<!-- <view class=\"font-lg text-main mx-2\">关注</view> -->\r\n\t\t\t\t<view :class=\"tabIndex === index?'font-lg text-main':'font-md text-light-muted'\"\r\n\t\t\t\t\tclass=\"mx-2\" v-for=\"(item,index) in tabBars\" :id=\"index\"\r\n\t\t\t\t\t@click=\"changeTab(index)\">{{item.name}}</view>\r\n\t\t\t</view>\r\n\t\t\t<text slot=\"right\" class=\"iconfont icon-fatie_icon\"></text>\r\n\t\t</uni-nav-bar>\r\n\t\t\r\n\t\t<!-- 关注 -->\r\n\t\t<!--  circular 可循环滑动 -->\r\n\t\t<swiper :current=\"tabIndex\" :duration=\"150\" :style=\"'height:'+scrollH+'px;'\"\r\n\t\t\t@change=\"onChangeTab\">\r\n\t\t\t<!-- @scrolltolower 下拉触底事件 -->\r\n\t\t\t<swiper-item>\r\n\t\t\t\t\r\n\t\t\t\t<scroll-view scroll-y :style=\"'height:'+scrollH+'px;'\"\r\n\t\t\t\t\t\t@scrolltolower=\"loadmoreEvent\">\r\n\t\t\t\t\t<block v-for=\"(item,index) in list\" :key=\"index\">\r\n\t\t\t\t\t\t<common-list :item=\"item\" :index=\"index\"\r\n\t\t\t\t\t\t\t\t @doSupport=\"doSupport\"></common-list>\r\n\t\t\t\t\t\t<divider></divider>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t<load-more :str=\"loadmore\"></load-more>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</swiper-item>\r\n\t\t\t\r\n\t\t\t<!-- 话题 -->\r\n\t\t\t<swiper-item>\r\n\t\t\t\t\r\n\t\t\t\t<scroll-view scroll-y :style=\"'height:'+scrollH+'px;'\"\r\n\t\t\t\t\t\t@scrolltolower=\"loadmoreEvent\">\r\n\t\t\t\t\t<!-- 热闹分类 -->\r\n\t\t\t\t\t<hot-cate :arr=\"hotCate\" ></hot-cate>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- 搜索框 -->\r\n\t\t\t\t\t<view class=\"p-2\">\r\n\t\t\t\t\t\t<view class=\"flex align-center justify-center bg-light rounded py-2 text-secondary\">\r\n\t\t\t\t\t\t\t<text class=\"iconfont icon-sousuo mr-2\"></text>\r\n\t\t\t\t\t\t\t搜索话题\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- 轮播图 -->\r\n\t\t\t\t\t<swiper :indicator-dots=\"true\" :autoplay=\"true\" :interval=\"3000\" :duration=\"1000\"\r\n\t\t\t\t\t\t\tclass=\"px-2 pb-2\">\r\n\t\t\t\t\t\t<swiper-item>\r\n\t\t\t\t\t\t\t<image src=\"/static/demo/banner2.jpg\"\r\n\t\t\t\t\t\t\t\tstyle=\"height: 300rpx;\" class=\"w-100 rounded\"></image>\r\n\t\t\t\t\t\t</swiper-item>\r\n\t\t\t\t\t</swiper>\r\n\t\t\t\t\t<divider></divider>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- 最近更新 -->\r\n\t\t\t\t\t<view class=\"p-2 font-md\">最近更新</view>\r\n\t\t\t\t\t<!-- 话题列表 -->\r\n\t\t\t\t\t<block v-for=\"(item,index) in topicList\" :id=\"index\">\r\n\t\t\t\t\t\t<topic-list :item=\"item\" :index=\"index\"></topic-list>\r\n\t\t\t\t\t</block>\r\n\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</swiper-item>\r\n\t\t\t\r\n\t\t</swiper>\n\t</view>\n</template>\n\n<script>\r\n\tconst demo = [\r\n\t\t{\r\n\t\t\tusername:\"昵称1\",\r\n\t\t\tuserpic:\"/static/default.jpg\",\r\n\t\t\tcreatetime:\"2023-09-20 下午15:30\",\r\n\t\t\tisfollow:true,\r\n\t\t\ttitle:\"我是标题\",\r\n\t\t\ttitlepic:\"/static/demo/datapic/11.jpg\",\r\n\t\t\tsupport:{\r\n\t\t\t\ttype:\"support\",\r\n\t\t\t\tsupportcount:1,\r\n\t\t\t\tunsupportcount:3\r\n\t\t\t},\r\n\t\t\tcommentcount:2,\r\n\t\t\tsharenum:5\r\n\t\t},\r\n\t\t{\r\n\t\t\tusername:\"昵称2\",\r\n\t\t\tuserpic:\"/static/default.jpg\",\r\n\t\t\tcreatetime:\"2023-09-20 下午15:30\",\r\n\t\t\tisfollow:true,\r\n\t\t\ttitle:\"我是标题\",\r\n\t\t\ttitlepic:\"/static/demo/datapic/11.jpg\",\r\n\t\t\tsupport:{\r\n\t\t\t\ttype:\"unsupport\",\r\n\t\t\t\tsupportcount:41,\r\n\t\t\t\tunsupportcount:3\r\n\t\t\t},\r\n\t\t\tcommentcount:12,\r\n\t\t\tsharenum:9\r\n\t\t},\r\n\t\t{\r\n\t\t\tusername:\"昵称3\",\r\n\t\t\tuserpic:\"/static/default.jpg\",\r\n\t\t\tcreatetime:\"2023-09-21 下午15:35\",\r\n\t\t\tisfollow:true,\r\n\t\t\ttitle:\"我是标题\",\r\n\t\t\ttitlepic:\"/static/demo/datapic/11.jpg\",\r\n\t\t\tsupport:{\r\n\t\t\t\ttype:\"\",\r\n\t\t\t\tsupportcount:0,\r\n\t\t\t\tunsupportcount:0\r\n\t\t\t},\r\n\t\t\tcommentcount:0,\r\n\t\t\tsharenum:0\r\n\t\t}\r\n\t]\r\n\t\r\n\timport uniNavBar from \"@/components/uni-ui/uni-nav-bar/uni-nav-bar.vue\"\r\n\timport commonList from \"@/components/common/common-list.vue\"\r\n\timport loadMore from \"@/components/common/load-more.vue\"\r\n\timport hotCate from \"@/components/dynamic/hot-cate.vue\"\r\n\timport topicList from \"@/components/dynamic/topic-list.vue\"\r\n\t\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\tuniNavBar,commonList,loadMore,hotCate,topicList,\r\n\t\t},\n\t\tdata() {\n\t\t\treturn {\r\n\t\t\t\t// 窗体高度\r\n\t\t\t\tscrollH:500,\r\n\t\t\t\t// 默认选中\r\n\t\t\t\ttabIndex:0,\n\t\t\t\ttabBars:[{name:'关注'},{name:'话题'}],\r\n\t\t\t\t// 列表\r\n\t\t\t\tlist:[],\r\n\t\t\t\t// 1.上拉加载更多 2. 加载中... 3. 没有更多了\r\n\t\t\t\tloadmore:'上拉加载更多',\r\n\t\t\t\thotCate:[{name:'关注'},{name:'推荐'},{name:'体育'},\r\n\t\t\t\t\t\t\t{name:'热点'},{name:'财经'},{name:'娱乐'},],\r\n\t\t\t\ttopicList:[{\r\n\t\t\t\t\tcover:'/static/demo/topicpic/1.jpeg',\r\n\t\t\t\t\ttitle:'话题名称1',\r\n\t\t\t\t\tdesc:'话题描述1',\r\n\t\t\t\t\ttoday_count:'0',\r\n\t\t\t\t\tdynamic_count:'10'\r\n\t\t\t\t},{\r\n\t\t\t\t\tcover:'/static/demo/topicpic/1.jpeg',\r\n\t\t\t\t\ttitle:'话题名称2',\r\n\t\t\t\t\tdesc:'话题描述2',\r\n\t\t\t\t\ttoday_count:'2',\r\n\t\t\t\t\tdynamic_count:'20'\r\n\t\t\t\t},{\r\n\t\t\t\t\tcover:'/static/demo/topicpic/1.jpeg',\r\n\t\t\t\t\ttitle:'话题名称3',\r\n\t\t\t\t\tdesc:'话题描述3',\r\n\t\t\t\t\ttoday_count:'3',\r\n\t\t\t\t\tdynamic_count:'30'\r\n\t\t\t\t},{\r\n\t\t\t\t\tcover:'/static/demo/topicpic/1.jpeg',\r\n\t\t\t\t\ttitle:'话题名称4',\r\n\t\t\t\t\tdesc:'话题描述4',\r\n\t\t\t\t\ttoday_count:'4',\r\n\t\t\t\t\tdynamic_count:'40'\r\n\t\t\t\t},{\r\n\t\t\t\t\tcover:'/static/demo/topicpic/1.jpeg',\r\n\t\t\t\t\ttitle:'话题名称5',\r\n\t\t\t\t\tdesc:'话题描述5',\r\n\t\t\t\t\ttoday_count:'5',\r\n\t\t\t\t\tdynamic_count:'50'\r\n\t\t\t\t}]\n\t\t\t}\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\t// 获取 窗体高度信息\r\n\t\t\tlet res = uni.getSystemInfo({\r\n\t\t\t\tsuccess:res=>{\r\n\t\t\t\t\t// px\r\n\t\t\t\t\tthis.scrollH = res.windowHeight - res.statusBarHeight - 44\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// 加载测试数据\r\n\t\t\tthis.list = demo\r\n\t\t},\n\t\tmethods: {\n\t\t\t// 打开发布页\r\n\t\t\topenAddInput(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:\"/pages/add-input/add-input\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 切换选项卡\r\n\t\t\tchangeTab(e){\r\n\t\t\t\tthis.tabIndex = e\r\n\t\t\t},\r\n\t\t\t// 监听滑动\r\n\t\t\tonChangeTab(e){\r\n\t\t\t\tthis.changeTab(e.detail.current)\r\n\t\t\t},\r\n\t\t\t//顶踩操作\r\n\t\t\tdoSupport(e){\r\n\t\t\t\t// 用户\r\n\t\t\t\tlet item = this.list[e.index]\r\n\t\t\t\tlet msg = e.type === 'support'? '顶':'踩'\r\n\t\t\t\t// 判断之前是否已经顶踩\r\n\t\t\t\t// 之前没有操作过\r\n\t\t\t\tif(item.support.type === ''){\r\n\t\t\t\t\titem.support[e.type+'count']++\r\n\t\t\t\t}else if(item.support.type === 'support' && e.type === 'unsupport'){// 之前顶了\r\n\t\t\t\t\t// 顶 -1 ； 踩 +1\r\n\t\t\t\t\titem.support.supportcount--;\r\n\t\t\t\t\titem.support.unsupportcount++;\r\n\t\t\t\t}else if(item.support.type === 'unsupport' && e.type === 'support'){// 之前踩了\r\n\t\t\t\t\t// 顶 +1 ； 踩 -1\r\n\t\t\t\t\titem.support.supportcount++;\r\n\t\t\t\t\titem.support.unsupportcount--;\r\n\t\t\t\t}\r\n\t\t\t\titem.support.type = e.type\t\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: msg + ' -> 成功'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 上拉加载\r\n\t\t\tloadmoreEvent(){\r\n\t\t\t\t// 验证当前是否处于可加载状态\r\n\t\t\t\tif(this.loadmore !== '上拉加载更多'){return;}\r\n\t\t\t\t// 设置加载状态\r\n\t\t\t\tthis.loadmore = '加载中...'\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t// 加载数据\r\n\t\t\t\t\tthis.list =[...this.list,...this.list]\r\n\t\t\t\t\t// 设置加载状态\r\n\t\t\t\t\tthis.loadmore = '上拉加载更多'\r\n\t\t\t\t},2000)\r\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":""}